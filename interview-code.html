<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android 面试," />




  


  <link rel="alternate" href="/atom.xml" title="Eddy Wiki" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="本文出自 Eddy Wiki ，转载请注明出处：http://eddy.wiki/interview-code.html

本文收集整理了 Android 面试中会遇到的编程算法题。
推荐几个做编程题目的网站：

牛客网
LeetCode
LintCode">
<meta property="og:type" content="article">
<meta property="og:title" content="Android 面试之编程算法题">
<meta property="og:url" content="http://eddy.wiki/interview-code.html">
<meta property="og:site_name" content="Eddy Wiki">
<meta property="og:description" content="本文出自 Eddy Wiki ，转载请注明出处：http://eddy.wiki/interview-code.html

本文收集整理了 Android 面试中会遇到的编程算法题。
推荐几个做编程题目的网站：

牛客网
LeetCode
LintCode">
<meta property="og:image" content="https://camo.githubusercontent.com/5ef7cb004bc0072b24ef062b3085f872974cf463/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630353233313135383231333836">
<meta property="og:image" content="https://camo.githubusercontent.com/f840353bd8a32a5a02166410d818243d02c182fe/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343237313435363036363037">
<meta property="og:image" content="https://camo.githubusercontent.com/393d4e55423ccadbb5c8e54663564a8b585772ba/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030333030373732">
<meta property="og:image" content="https://camo.githubusercontent.com/ad9058f28750746bab2acca22144de8210876436/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030373039353833">
<meta property="og:image" content="https://camo.githubusercontent.com/ec88bcb539f7040696223964d7d3fe5e86984ed2/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313530373331303834303339363533">
<meta property="og:image" content="https://camo.githubusercontent.com/9b2add44731441635cad2549412c97899ad90743/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630373035313731383233323739">
<meta property="og:updated_time" content="2016-12-10T06:51:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android 面试之编程算法题">
<meta name="twitter:description" content="本文出自 Eddy Wiki ，转载请注明出处：http://eddy.wiki/interview-code.html

本文收集整理了 Android 面试中会遇到的编程算法题。
推荐几个做编程题目的网站：

牛客网
LeetCode
LintCode">
<meta name="twitter:image" content="https://camo.githubusercontent.com/5ef7cb004bc0072b24ef062b3085f872974cf463/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630353233313135383231333836">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://eddy.wiki/interview-code.html"/>


  <title> Android 面试之编程算法题 | Eddy Wiki </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Eddy Wiki</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">I do what I do.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Android 面试之编程算法题
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-31T12:07:03+08:00" content="2016-10-31">
              2016-10-31
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Android-面试/" itemprop="url" rel="index">
                    <span itemprop="name">Android 面试</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/interview-code.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="interview-code.html" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/interview-code.html" class="leancloud_visitors" data-flag-title="Android 面试之编程算法题">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>本文出自 <a href="http://eddy.wiki">Eddy Wiki</a> ，转载请注明出处：<a href="http://eddy.wiki/interview-code.html">http://eddy.wiki/interview-code.html</a></p>
</blockquote>
<p>本文收集整理了 Android 面试中会遇到的编程算法题。</p>
<p><strong>推荐几个做编程题目的网站：</strong></p>
<ul>
<li><a href="http://www.nowcoder.com/" target="_blank" rel="external">牛客网</a></li>
<li><a href="https://leetcode.com/" target="_blank" rel="external">LeetCode</a></li>
<li><a href="http://www.lintcode.com/zh-cn/#" target="_blank" rel="external">LintCode</a></li>
</ul>
<a id="more"></a>
<p><strong>下列题目来源：</strong></p>
<p><a href="https://github.com/Mr-YangCheng/ForAndroidInterview/tree/master/algorithm/swordForOffer" target="_blank" rel="external">Mr-YangCheng/ForAndroidInterview</a> — 该处题目应该也是来源于剑指 Offer，不过每题都有详细思路和解法，值得一看。</p>
<p><a href="http://www.nowcoder.com/ta/coding-interviews?page=1" target="_blank" rel="external">牛客网-剑指 Offer</a></p>
<h2 id="二维数组中查找"><a href="#二维数组中查找" class="headerlink" title="二维数组中查找"></a>二维数组中查找</h2><p><strong>题目：</strong></p>
<p>在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。</p>
<p><strong>分析：</strong></p>
<p>根据题意画了个简单的图，首先我们要确定查找开始的位置，因为它是二维的数组，它的下标变化是两个方向的，根据四个边界点来分析。</p>
<p>　　a b</p>
<p>​    c d</p>
<blockquote>
<p>Ａ：向下　增　，向右　增</p>
<p>Ｂ：向左　减　，向下　增</p>
<p>Ｃ：向上　减　，向右　增</p>
<p>Ｄ：向左　减　，向上　减</p>
</blockquote>
<p>可以看出从B 或Ｃ点开始查找刚好可以构建一个二叉查找树。</p>
<blockquote>
<p>二叉查找树（Binary Search Tree），（又：二叉搜索树，二叉排序树）它或者是一棵空树，或者是具有下列性质的二叉树： 若它的左子树不空，则左子树上所有结点的值均小于它的根结点的值； 若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值； 它的左、右子树也分别为二叉排序树。</p>
</blockquote>
<p>先确定二维数组的行数和列数，把 查找值 与 二叉查找树的根节点（Ｂ或者　Ｃ）开始比较，如果相等返回true，小于查找左子树，大于就查找右子树。如果遍历超过数组边界，就返回 false。</p>
<blockquote>
<p>以C为根节点查找</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> [][] array,<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> i = array.length -<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> m = array[<span class="number">0</span>].length -<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span> &amp;&amp; j&lt;=m)&#123;</div><div class="line">            <span class="keyword">if</span>(target == array[i][j])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(target &gt;array[i][j])&#123;</div><div class="line">                j++;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                i--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>以B为根节点查找</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> [][] array,<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">int</span> i = array.length -<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> j = array[<span class="number">0</span>].length -<span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> n = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; n&lt;=i)&#123;</div><div class="line">            <span class="keyword">if</span>(target == array[n][j])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(target &gt;array[n][j])&#123;</div><div class="line">                n++;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                j--;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。"><a href="#输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。" class="headerlink" title="输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。"></a>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</h2><p>题目分析</p>
<blockquote>
<p>解法一　　运行时间：29m 　占用内存：629k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span>  <span class="title">NumberOf1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        String s=Integer.toBinaryString(n);</div><div class="line">        <span class="keyword">char</span>[] c=s.toCharArray();</div><div class="line">        <span class="keyword">int</span> j=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;c.length;i++)&#123;</div><div class="line"></div><div class="line">                <span class="keyword">if</span>(c[i]==<span class="string">'1'</span>)&#123;</div><div class="line">                    j++;</div><div class="line">                &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> j;</div><div class="line">     &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解析：</p>
<blockquote>
<p>public static String toBinaryString(int i)</p>
<p>以二进制（基数 2）无符号整数形式返回一个整数参数的字符串表示形式。  </p>
</blockquote>
<p>①先把整数转换成二进制字符串 </p>
<p>②把字符串转换成字符数组 </p>
<p>③遍历该数组，判断每位是否为1，为1 计数加1。 </p>
<p>④遍历完成返回1的个数</p>
<blockquote>
<p>解法二   运行时间：30ms    占用内存：629k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span>  <span class="title">NumberOf1</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">      <span class="keyword">int</span> count =<span class="number">0</span>;</div><div class="line">      <span class="keyword">while</span>(n!=<span class="number">0</span>)&#123;</div><div class="line">          count++;</div><div class="line">          n = n&amp;(n-<span class="number">1</span>);</div><div class="line">      &#125;</div><div class="line">     <span class="keyword">return</span> count; </div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解析：</p>
<p>　　</p>
<blockquote>
<p>如果一个整数不为0，那么这个整数至少有一位是1。如果我们把这个整数减1，那么原来处在整数最右边的1就会变为0，原来在1后面的所有的0都会变成1(如果最右边的1后面还有0的话)。其余所有位将不会受到影响。</p>
</blockquote>
<p>举个例子：</p>
<p>①二进制数　　1100 </p>
<p>② 减１后，得　1011 </p>
<p>③1100&amp;1011=1000</p>
<p>对比①和③你会发现，<strong>把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0.那么一个整数的二进制有多少个1，就可以进行多少次这样的操作。</strong></p>
<h2 id="定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。"><a href="#定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。" class="headerlink" title="定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。"></a>定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"></div><div class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">    Stack&lt;Integer&gt; min = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> node)</span> </span>&#123;</div><div class="line">        stack.push(node);</div><div class="line">        <span class="keyword">if</span>(min.isEmpty())&#123;</div><div class="line">            min.push(node);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">          <span class="keyword">if</span> (node &lt;= min.peek()) &#123;</div><div class="line">            min.push(node);</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</div><div class="line">      	<span class="keyword">if</span> (stack.peek() == min.peek()) &#123;</div><div class="line">          min.pop();</div><div class="line">        &#125;</div><div class="line">        stack.pop();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> stack.peek();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> min.peek();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="请实现一个函数，将一个字符串中的空格替换成“-20”。例如，当字符串为We-Are-Happy-则经过替换之后的字符串为We-20Are-20Happy。"><a href="#请实现一个函数，将一个字符串中的空格替换成“-20”。例如，当字符串为We-Are-Happy-则经过替换之后的字符串为We-20Are-20Happy。" class="headerlink" title="请实现一个函数，将一个字符串中的空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。"></a>请实现一个函数，将一个字符串中的空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。</h2><p>输入描述</p>
<blockquote>
<p>str 是StringBuffer的对象</p>
</blockquote>
<p>输出描述</p>
<blockquote>
<p>返回替换后的字符串的String对象</p>
</blockquote>
<p>题目分析</p>
<p>　　<strong>首先要对输入参数进行判空和越界判断</strong>（任何算法题都要注意）。</p>
<blockquote>
<p>解法一 （运行时间：36ms    占用内存：688k）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(str==<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</div><div class="line">        <span class="keyword">char</span> [] strChar = str.toString().toCharArray();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;strChar.length;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(strChar[i]==<span class="string">' '</span>)&#123;</div><div class="line">                sb.append(<span class="string">"%20"</span>);</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                sb.append(strChar[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　把传入的StringBuffer 对象 str 转换成字符串 再转换成<strong>字符数组</strong>,申请一个新的StringBuffer 对象 sb来存最后的结果，遍历整个字符数组，如果当前字符为空格则把　＂％２０＂加入到sb中，否则直接追加当前字符，最后把sb转换成字符串返回。</p>
<blockquote>
<p>解法二 （运行时间：34ms  占用内存：503k）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;str.length();i++)&#123;</div><div class="line">            <span class="keyword">char</span> c = str.charAt(i);</div><div class="line">            <span class="keyword">if</span>(c==<span class="string">' '</span>)&#123;</div><div class="line">                str.replace(i,i+<span class="number">1</span>,<span class="string">"%20"</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> str.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>public StringBuffer replace(int start, int end, String str)</p>
<p>　　使用给定 String 中的字符替换此序列的子字符串中的字符。该子字符串从指定的 start 处开始，一直到索引 end - 1 处的字符，如果不存在这种字符，则一直到序列尾部。<strong>先将子字符串中的字符移除，然后将指定的 String 插入 start。</strong>（如果需要，序列将延长以适应指定的字符串。）参数：start - 起始索引（包含）。end - 结束索引（<strong>不包含</strong>）。str - 将替换原有内容的字符串。返回：此对象。</p>
</blockquote>
<p>源码（可以看出它调用的是父类的方法）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="keyword">synchronized</span> StringBuffer More ...replace(<span class="keyword">int</span> start, <span class="keyword">int</span> end, String str)&#123;</div><div class="line">       toStringCache = <span class="keyword">null</span>;</div><div class="line">       <span class="keyword">super</span>.replace(start, end, str);</div><div class="line">       <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>父类AbstractStringBuilder</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> AbstractStringBuilder More ...replace(<span class="keyword">int</span> start, <span class="keyword">int</span> end, String str) &#123;</div><div class="line">    <span class="keyword">if</span> (start &lt; <span class="number">0</span>)</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> StringIndexOutOfBoundsException(start);</div><div class="line">    <span class="keyword">if</span> (start &gt; count)</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> StringIndexOutOfBoundsException(<span class="string">"start &gt; length()"</span>);</div><div class="line">    <span class="keyword">if</span> (start &gt; end)</div><div class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> StringIndexOutOfBoundsException(<span class="string">"start &gt; end"</span>);</div><div class="line"> </div><div class="line">    <span class="keyword">if</span> (end &gt; count)</div><div class="line">        end = count;</div><div class="line">    <span class="keyword">int</span> len = str.length();</div><div class="line">    <span class="keyword">int</span> newCount = count + len - (end - start);</div><div class="line">    ensureCapacityInternal(newCount);</div><div class="line"> </div><div class="line">    System.arraycopy(value, end, value, start + len, count - end);</div><div class="line">    str.getChars(value, start);</div><div class="line">    count = newCount;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　可以看出StringBuffer类 提供了 插入的函数，值得注意的是 StringBuilder 也是继承于AbstractStringBuilder这个抽象类的。所以它也有这个方法，但是String并没有。　　</p>
<blockquote>
<p>解法三（不推荐，运行时间：38ms  占用内存：654k）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">replaceSpace</span><span class="params">(StringBuffer str)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> str.toString().replaceAll(<span class="string">"\\s"</span>, <span class="string">"%20"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="输入一个字符串-按字典序打印出该字符串中字符的所有排列。例如输入字符串abc-则打印出由字符a-b-c所能排列出来的所有字符串abc-acb-bac-bca-cab和cba。-结果请按字母顺序输出。"><a href="#输入一个字符串-按字典序打印出该字符串中字符的所有排列。例如输入字符串abc-则打印出由字符a-b-c所能排列出来的所有字符串abc-acb-bac-bca-cab和cba。-结果请按字母顺序输出。" class="headerlink" title="输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。 结果请按字母顺序输出。"></a>输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。 结果请按字母顺序输出。</h2><p>输入描述</p>
<blockquote>
<p>输入一个字符串,长度不超过9(可能有字符重复),字符只包括大小写字母。</p>
</blockquote>
<p>输出描述</p>
<blockquote>
<p>顺序输出字符串的所有排列</p>
</blockquote>
<p>题目分析</p>
<p>这是一个字符串全排列的问题，把全部序列存在TreeSet中默认可得到字典顺序。</p>
<blockquote>
<p>TreeSet  　　　　基于TreeMap实现的SortedSet，可以对Set集合中的元素进行排序，排序后按升序排列元素（缺省是按照自然排序），非线程安全。</p>
</blockquote>
<p>思路：</p>
<p>固定一个字符串之后，之后再将问题变小，只需求出后面子串的排列个数就可以得出结果，然后依次将后面的字符串与前面的交换，再递归子串的排列结果，最后当所有字符都固定结束递归。</p>
<p>下面这张图很清楚的给出了递归的过程：</p>
<p><a href="https://camo.githubusercontent.com/5ef7cb004bc0072b24ef062b3085f872974cf463/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630353233313135383231333836" target="_blank" rel="external"><img src="https://camo.githubusercontent.com/5ef7cb004bc0072b24ef062b3085f872974cf463/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630353233313135383231333836" alt="这里写图片描述"></a>　</p>
<blockquote>
<p>解法　运行时间：131ms　占用内存：1477k　</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">//用于最后返回结果</span></div><div class="line">    ArrayList&lt;String&gt; list  = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="comment">//遍历的时候来存储序列实现排序</span></div><div class="line">    TreeSet&lt;String&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">Permutation</span><span class="params">(String str)</span> </span>&#123;      </div><div class="line">       <span class="keyword">if</span>(str==<span class="keyword">null</span> || str.length()==<span class="number">0</span>) <span class="keyword">return</span> list;</div><div class="line"></div><div class="line">       Permutation(str.toCharArray(),<span class="number">0</span>);</div><div class="line">       <span class="comment">//容器转换，TreeSet中的元素已经是按照字母顺序排序，所以这里做了排序</span></div><div class="line">       list.addAll(set);</div><div class="line">       <span class="keyword">return</span> list;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Permutation</span><span class="params">(<span class="keyword">char</span>[] s,<span class="keyword">int</span> index)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(s==<span class="keyword">null</span> ||s.length==<span class="number">0</span> || index&lt;<span class="number">0</span> || index&gt;s.length-<span class="number">1</span>)  <span class="keyword">return</span> ;</div><div class="line">        <span class="keyword">if</span>(index==s.length-<span class="number">1</span>)&#123;<span class="comment">//递归固定到最后一个位置，把该串加入集合</span></div><div class="line">          	<span class="comment">// set不能添加重复元素，所以这里的add()解决了有重复字符的问题</span></div><div class="line">            set.add(<span class="keyword">new</span> String(s));</div><div class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//固定前index+1个字符，递归后面所有可能的子串</span></div><div class="line">           <span class="keyword">for</span>(<span class="keyword">int</span> i = index;i&lt;s.length;i++)&#123;</div><div class="line">               swap(s,index,i);<span class="comment">//交换一次形成一个子串</span></div><div class="line">               Permutation(s,index+<span class="number">1</span>);</div><div class="line">               swap(s,i,index);<span class="comment">//复原使下次循环产生下一个子串</span></div><div class="line">           &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">char</span>[] s,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</div><div class="line">        <span class="keyword">char</span> temp = s[i];</div><div class="line">        s[i] = s[j];</div><div class="line">        s[j] = temp;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组-1-2-3-2-2-2-5-4-2-。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。"><a href="#数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组-1-2-3-2-2-2-5-4-2-。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。" class="headerlink" title="数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。"></a>数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</h2><p>  思路一：<strong>数组排序后，如果符合条件的数存在，则一定是数组中间那个数</strong>。（比如：1，2，2，2，3；或2，2，2，3，4；或2，3，4，4，4等等） </p>
<p>  这种方法虽然容易理解，但由于涉及到快排sort，其时间复杂度为<strong>O(NlogN)</strong>并非最优； </p>
<p>  参考代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; numbers)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 因为用到了sort，时间复杂度O(NlogN)，并非最优</span></div><div class="line">        <span class="keyword">if</span>(numbers.empty()) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">         </div><div class="line">        sort(numbers.begin(),numbers.end()); <span class="comment">// 排序，取数组中间那个数</span></div><div class="line">        <span class="keyword">int</span> middle = numbers[numbers.size()/<span class="number">2</span>];</div><div class="line">         </div><div class="line">        <span class="keyword">int</span> count=<span class="number">0</span>; <span class="comment">// 出现次数</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numbers.size();++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(numbers[i]==middle) ++count;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        <span class="keyword">return</span> (count&gt;numbers.size()/<span class="number">2</span>) ? middle :  <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>  思路二：如果有符合条件的数字，则它出现的次数比其他所有数字出现的次数和还要多。 </p>
<p>  在遍历数组时保存两个值：一是数组中一个数字，一是次数。遍历下一个数字时，若它与之前保存的数字相同，则次数加1，否则次数减1；若次数为0，则保存下一个数字，并将次数置为1。遍历结束后，所保存的数字即为所求。然后再判断它是否符合条件即可。 </p>
<p>  参考代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; numbers)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(numbers.empty()) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">         </div><div class="line">        <span class="comment">// 遍历每个元素，并记录次数；若与前一个元素相同，则次数加1，否则次数减1</span></div><div class="line">        <span class="keyword">int</span> result = numbers[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> times = <span class="number">1</span>; <span class="comment">// 次数</span></div><div class="line">         </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;numbers.size();++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(times == <span class="number">0</span>)</div><div class="line">            &#123;</div><div class="line">                <span class="comment">// 更新result的值为当前元素，并置次数为1</span></div><div class="line">                result = numbers[i];</div><div class="line">                times = <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(numbers[i] == result)</div><div class="line">            &#123;</div><div class="line">                ++times; <span class="comment">// 相同则加1</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span></div><div class="line">            &#123;</div><div class="line">                --times; <span class="comment">// 不同则减1               </span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        <span class="comment">// 判断result是否符合条件，即出现次数大于数组长度的一半</span></div><div class="line">        times = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numbers.size();++i)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(numbers[i] == result) ++times;</div><div class="line">        &#125;</div><div class="line">         </div><div class="line">        <span class="keyword">return</span> (times &gt; numbers.size()/<span class="number">2</span>) ? result : <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。"><a href="#斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。" class="headerlink" title="斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。"></a>斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。</h2><p>输入描述</p>
<blockquote>
<p>一个整数n</p>
</blockquote>
<p>输出描述</p>
<blockquote>
<p>斐波那契数列的第n项。</p>
</blockquote>
<p>题目分析</p>
<p>什么是斐波那契数列？</p>
<p>　　</p>
<blockquote>
<p>斐波那契数列（Fibonacci sequence），又称黄金分割数列</p>
<p>在数学上，斐波纳契数列以如下被以递归的方法定义：<strong>F（0）=0，F（1）=1</strong>，F（n）=F(n-1)+F(n-2)（n≥2，n∈N*）　　</p>
<p>指的是这样一个数列：0、1、1、2、3、5、8、13、21、34、……　</p>
</blockquote>
<p>递归？</p>
<p>　　看到这个的第一想法就是用递归，当ｎ＜２时返回ｎ，ｎ＞＝２时返回ｆ(n-1)+f(n-2), 于是就来试一下…　　</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(n&lt;<span class="number">2</span>)&#123;</div><div class="line">            <span class="keyword">return</span> n;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> Fibonacci(n-<span class="number">1</span>)+Fibonacci(n-<span class="number">2</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>运行超时:您的程序未能在规定时间内运行结束，请检查是否循环有错或算法复杂度过大。</p>
</blockquote>
<p>为什么呢？</p>
<p>　　因为重复计算，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ｆ(4) = ｆ(3) + ｆ(2);</div><div class="line">    　 = ｆ(2) + ｆ(1) + ｆ(1) + ｆ(0);</div><div class="line">    　 = ｆ(1) + ｆ(0) + ｆ(1) + ｆ(1) + ｆ(0);</div></pre></td></tr></table></figure>
<p>求ｆ(4)就要计算三次ｆ(1)和两次ｆ(0)，显然这是不行的。</p>
<blockquote>
<p>解法 (动态规划)</p>
<p>运行时间：27ms     占用内存：629k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">         <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">1</span>;</div><div class="line">         <span class="keyword">for</span>(;n&gt;<span class="number">0</span>;n--)&#123;</div><div class="line">            j += i;</div><div class="line">            i = j-i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> i;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> a=<span class="number">1</span>,b=<span class="number">1</span>,c=<span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">1</span>||n==<span class="number">2</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</div><div class="line">                c=a+b;</div><div class="line">                b=a;</div><div class="line">                a=c;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> c;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>根据n的大小，从f(0)=i 和 f(1)=j 从头开始遍历整个序列</p>
<blockquote>
<p>有f(n)=f(n-1)+f(n-2)  （<strong>n≥2</strong>，n∈N*）</p>
<p>j+=i, 使j成为新的f(n-1)i = j-i ，使i成为f(n-2)</p>
<p>完成后，返回 f(n-2)</p>
</blockquote>
<p>注意：java中</p>
<blockquote>
<p>while(n–)</p>
</blockquote>
<p>会报编译错误：</p>
<blockquote>
<p>required: booleanfound: int</p>
</blockquote>
<h2 id="一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法"><a href="#一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法" class="headerlink" title="一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法"></a>一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法</h2><p><strong>该题答案和上题一样，其实就是斐波那契数列</strong></p>
<p>题目分析</p>
<ul>
<li>设n阶的跳数为f(n) </li>
<li>当n=1时，f(1) = 1</li>
<li>当n=2时，分为最后一步 跳2阶和跳1阶 两种情况，有f(2)=f(0)+f(1)=1+1=2  </li>
<li>当n=3时，分为最后一步 跳3阶、跳2阶和跳1阶 三种情况，有f(3)=f(0)+f(1)+f(2)=1+1+2=4  </li>
<li>有 　　  f(n) = f(n-1)+f(n-2)+…+f(1) + f(0)成立同时有　f(n-1)＝f(n-2)+…+f(1) + f(0)　成立，可得出f(n)=2f(n-1)  (n&gt;=2)</li>
</ul>
<p><img src="https://camo.githubusercontent.com/f840353bd8a32a5a02166410d818243d02c182fe/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343237313435363036363037" alt=""></p>
<p>很明显可以得出递推公式：</p>
<p>　　　　  | 1       　　　　(n=0 ) f(n) =   　  | 1     　　　　  (n=1 )　　　　 | 2*f(n-1)　　(n&gt;=2)</p>
<blockquote>
<p>解法一 　运行时间：35ms  　 占用内存：654k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloorII</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(target&lt;=<span class="number">1</span>)  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">return</span> <span class="number">2</span>*JumpFloorII(target-<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>解法二   　运行时间：34ms　  占用内存：654k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">JumpFloorII</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">   　　 <span class="keyword">if</span>(target&lt;=<span class="number">1</span>)  <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>&lt;&lt;(target-<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　换一种思路想一下：一共有ｎ个台阶，最后一个台阶是一定要跳上去的，其他的　ｎ－１个可跳可不跳，一共有多少总情况？</p>
<p>　　</p>
<blockquote>
<p>２（ｎ－１）</p>
</blockquote>
<p>这里用移位实现乘法，时间上要快一些！</p>
<h2 id="把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个非递减序列的一个旋转，输出旋转数组的最小元素。例如数组-3-4-5-1-2-为-1-2-3-4-5-的一个旋转，该数组的最小值为1。"><a href="#把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个非递减序列的一个旋转，输出旋转数组的最小元素。例如数组-3-4-5-1-2-为-1-2-3-4-5-的一个旋转，该数组的最小值为1。" class="headerlink" title="把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个非递减序列的一个旋转，输出旋转数组的最小元素。例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。"></a>把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个<strong>非递减序列</strong>的一个旋转，输出旋转数组的最小元素。例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minNumberInRotateArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array.length==<span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>;i&lt;array.length-<span class="number">2</span>;i++)&#123;</div><div class="line">            <span class="keyword">if</span>(array[i+<span class="number">1</span>] &lt; array[i])&#123;</div><div class="line">               <span class="keyword">return</span> array[i+<span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> array[<span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minNumberInRotateArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">      	<span class="comment">// 二分法</span></div><div class="line">        <span class="keyword">int</span> low = <span class="number">0</span> ; <span class="keyword">int</span> high = array.length - <span class="number">1</span>;   </div><div class="line">        <span class="keyword">while</span>(low &lt; high)&#123;</div><div class="line">            <span class="keyword">int</span> mid = low + (high - low) / <span class="number">2</span>;        </div><div class="line">            <span class="keyword">if</span>(array[mid] &gt; array[high])&#123;</div><div class="line">                low = mid + <span class="number">1</span>;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(array[mid] == array[high])&#123;</div><div class="line">                high = high - <span class="number">1</span>;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                high = mid;</div><div class="line">            &#125;   </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> array[low];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="我们可以用-2-1-的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2-1的小矩形无重叠地覆盖一个2-n的大矩形，总共有多少种方法？"><a href="#我们可以用-2-1-的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2-1的小矩形无重叠地覆盖一个2-n的大矩形，总共有多少种方法？" class="headerlink" title="我们可以用 2  1 的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2  1的小矩形无重叠地覆盖一个2 * n的大矩形，总共有多少种方法？"></a>我们可以用 2 <em> 1 的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2 </em> 1的小矩形无重叠地覆盖一个2 * n的大矩形，总共有多少种方法？</h2><p>输入描述</p>
<blockquote>
<p>一个大矩形</p>
</blockquote>
<p>输出描述</p>
<blockquote>
<p>覆盖的方法数</p>
</blockquote>
<p>题目分析</p>
<blockquote>
<p>设 被n个2*1的小矩形无重叠地覆盖的方法总数为 f(n)</p>
</blockquote>
<ul>
<li>当n=1时，明显f(1)=1; </li>
<li>当n=2时，只能两个都横着或两个都竖着放，有f(2)=2; </li>
<li>当小矩形个数为n，来覆盖这个<strong>2*n</strong>的大矩形。第一步只有两种放法：</li>
</ul>
<p>　①竖着放，那么剩下的摆放总数为 f(n-1)</p>
<p><a href="https://camo.githubusercontent.com/393d4e55423ccadbb5c8e54663564a8b585772ba/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030333030373732" target="_blank" rel="external"><img src="https://camo.githubusercontent.com/393d4e55423ccadbb5c8e54663564a8b585772ba/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030333030373732" alt="这里写图片描述"></a>　</p>
<p>　　　②横着放，那么剩下的摆放总数为 f(n-２)。因为它下面的那块也跟随着它的摆放而确定（必须是一个横着放的小矩形）。</p>
<p><a href="https://camo.githubusercontent.com/ad9058f28750746bab2acca22144de8210876436/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030373039353833" target="_blank" rel="external"><img src="https://camo.githubusercontent.com/ad9058f28750746bab2acca22144de8210876436/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630343238313030373039353833" alt="这里写图片描述"></a>　</p>
<p>很容易看出满足斐波那契数列。</p>
<blockquote>
<p>斐波那契数列（Fibonacci sequence），又称黄金分割数列</p>
<p>在数学上，斐波纳契数列以如下被以递归的方法定义：F（0）=0，F（1）=1，F（n）=F(n-1)+F(n-2)（n≥2，n∈N*）　　</p>
<p>指的是这样一个数列：0、1、1、2、3、5、8、13、21、34、……　</p>
</blockquote>
<p>可以得出递推公式：</p>
<p>　　　　 | 1 　　　　(n=0 ) f(n) = 　 | 1 　　　　 (n=1 ) 　　　　 | f(ｎ-1)＋f(n-2)　　(n&gt;=2)</p>
<blockquote>
<p>解法一 （递归）   　运行时间：924ms 　占用内存：654k</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    public int RectCover(int target) &#123;</div><div class="line">        if(target&lt;=1) return 1;</div><div class="line">        return RectCover(target-1)+RectCover(target-2);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>递归效率不高，重复计算多，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ｆ(4) = ｆ(3) + ｆ(2);</div><div class="line">    　 = ｆ(2) + ｆ(1) + ｆ(1) + ｆ(0);</div><div class="line">    　 = ｆ(1) + ｆ(0) + ｆ(1) + ｆ(1) + ｆ(0);</div></pre></td></tr></table></figure>
<p>求ｆ(4)就要计算三次ｆ(1)和两次ｆ(0)，显然这是不行的。</p>
<blockquote>
<p>解法二（动态规划）　　运行时间：29ms　占用内存：629k</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    public int RectCover(int target) &#123;</div><div class="line">        if(target&lt;=1) return 1;</div><div class="line">        int i =1;//f(0)</div><div class="line">        int j =1;//f(1)</div><div class="line">        for(;target&gt;=2;target--)&#123;</div><div class="line">            j+=i;</div><div class="line">            i=j-i;</div><div class="line">        &#125;</div><div class="line">        return j;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>显然这个快很多，n&gt;=2时，根据 f(n)=f(ｎ-1)＋f(n-2)进行依次计算，最后得出 f（target）并返回。</p>
<h2 id="输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。"><a href="#输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。" class="headerlink" title="输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。"></a>输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。</h2><blockquote>
<p>解法二　运行时间：27ms 　占用内存：503k</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reOrderArray</span><span class="params">(<span class="keyword">int</span> [] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(array.length==<span class="number">0</span> || array==<span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;array.length-<span class="number">1</span>;i++)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;array.length-i-<span class="number">1</span>;j++)&#123;</div><div class="line">                <span class="keyword">if</span>(array[j]%<span class="number">2</span>==<span class="number">0</span> &amp;&amp; array[j+<span class="number">1</span>]%<span class="number">2</span>==<span class="number">1</span>)&#123;</div><div class="line">                    <span class="keyword">int</span> temp = array[j];</div><div class="line">                    array[j] = array[j+<span class="number">1</span>];</div><div class="line">                    array[j+<span class="number">1</span>] = temp;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>　　类似于冒泡排序，以为用到array[j+1]数组不要越界。</p>
<h2 id="有一个容器类-ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除-容器中-lt-10的元素。"><a href="#有一个容器类-ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除-容器中-lt-10的元素。" class="headerlink" title="有一个容器类 ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除 容器中&lt;10的元素。"></a>有一个容器类 ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除 容器中&lt;10的元素。</h2><h2 id="LeetCode上股票利益最大化问题"><a href="#LeetCode上股票利益最大化问题" class="headerlink" title="LeetCode上股票利益最大化问题"></a>LeetCode上股票利益最大化问题</h2><h2 id="剑指offer上第一次只出现一次的字符"><a href="#剑指offer上第一次只出现一次的字符" class="headerlink" title="剑指offer上第一次只出现一次的字符"></a>剑指offer上第一次只出现一次的字符</h2><h2 id="反转字符串"><a href="#反转字符串" class="headerlink" title="反转字符串"></a>反转字符串</h2><h2 id="字符串中出现最多的字符。"><a href="#字符串中出现最多的字符。" class="headerlink" title="字符串中出现最多的字符。"></a>字符串中出现最多的字符。</h2><h2 id="实现stack-的pop和push接口-要求："><a href="#实现stack-的pop和push接口-要求：" class="headerlink" title="实现stack 的pop和push接口 要求："></a>实现stack 的pop和push接口 要求：</h2><ul>
<li>1.用基本的数组实现</li>
<li>2.考虑范型</li>
<li>3.考虑下同步问题</li>
<li>4.考虑扩容问题</li>
</ul>
<h2 id="求素数"><a href="#求素数" class="headerlink" title="求素数"></a>求素数</h2><h2 id="单例模式——写一个Singleton出来"><a href="#单例模式——写一个Singleton出来" class="headerlink" title="单例模式——写一个Singleton出来"></a>单例模式——写一个Singleton出来</h2><p>参考：<a href="http://yuweiguocn.github.io/java-instance/" target="_blank" rel="external">http://yuweiguocn.github.io/java-instance/</a></p>
<h2 id="七种方式实现Singleton模式"><a href="#七种方式实现Singleton模式" class="headerlink" title="七种方式实现Singleton模式"></a>七种方式实现Singleton模式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 单例模式，懒汉式，线程安全</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Singleton INSTANCE = <span class="keyword">new</span> Singleton();</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> INSTANCE;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 单例模式，懒汉式，线程不安全</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton2</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> Singleton2 instance = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Singleton2</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton2 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">                instance = <span class="keyword">new</span> Singleton2();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> instance;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 单例模式，饿汉式，线程安全，多线程环境下效率不高</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton3</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> Singleton3 instance = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Singleton3</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton3 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">                instance = <span class="keyword">new</span> Singleton3();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> instance;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 单例模式，懒汉式，变种，线程安全</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton4</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">static</span> Singleton4 instance = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="keyword">static</span> &#123;</div><div class="line">            instance = <span class="keyword">new</span> Singleton4();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Singleton4</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton4 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> instance;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 单例模式，使用静态内部类，线程安全（推荐）</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton5</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span> </span>&#123;</div><div class="line">            <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton5 INSTANCE = <span class="keyword">new</span> Singleton5();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Singleton5 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> SingletonHolder.INSTANCE;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 静态内部类，使用枚举方式，线程安全（推荐）</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> Singleton6 &#123;</div><div class="line">        INSTANCE;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whateverMethod</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 静态内部类，使用双重校验锁，线程安全（推荐）</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton7</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton7 instance = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="title">Singleton7</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton7 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">synchronized</span> (Singleton7.class) &#123;</div><div class="line">                    <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</div><div class="line">                        instance = <span class="keyword">new</span> Singleton7();</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> instance;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二叉树遍历"><a href="#二叉树遍历" class="headerlink" title="二叉树遍历"></a>二叉树遍历</h2><h2 id="重建二叉树"><a href="#重建二叉树" class="headerlink" title="重建二叉树"></a>重建二叉树</h2><p>题目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">输入二叉树的前序遍历和中序遍历的结果,重建出该二叉树。假设前序遍历和中序遍历结果中都不包含重复的数字,例如输入的前序遍历序列 &#123;1,2,4,7,3,5,6,8&#125;和中序遍历序列&#123;4,7,2,1,5,3,8,6&#125;重建出如图所示的二叉 树。</div></pre></td></tr></table></figure>
<p>解题思路：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">前序遍历第一个结点是父结点，中序遍历如果遍历到父结点，那么父结点前面的结点是左子树的结点，后边的结点的右子树的结点，这样我们可以找到左、右子树的前序遍历和中序遍历，我们可以用同样的方法去构建左右子树，可以用递归完成。</div></pre></td></tr></table></figure>
<p>代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryTreeNode</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> value;</div><div class="line">    <span class="keyword">public</span> BinaryTreeNode leftNode;</div><div class="line">    <span class="keyword">public</span> BinaryTreeNode rightNode;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BinaryTreeNode <span class="title">constructCore</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="keyword">if</span> (preorder == <span class="keyword">null</span> || inorder == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (preorder.length != inorder.length) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"长度不一样，非法的输入"</span>);</div><div class="line">        &#125;</div><div class="line">        BinaryTreeNode root = <span class="keyword">new</span> BinaryTreeNode();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; inorder.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (inorder[i] == preorder[<span class="number">0</span>]) &#123;</div><div class="line">                root.value = inorder[i];</div><div class="line">                System.out.println(root.value);</div><div class="line">                root.leftNode = constructCore(Arrays.copyOfRange(preorder, <span class="number">1</span>, i + <span class="number">1</span>),</div><div class="line">                        Arrays.copyOfRange(inorder, <span class="number">0</span>, i));</div><div class="line">                root.rightNode = constructCore(Arrays.copyOfRange(preorder, i + <span class="number">1</span>, preorder.length),</div><div class="line">                        Arrays.copyOfRange(inorder, i + <span class="number">1</span>, inorder.length));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="数值的整数次方"><a href="#数值的整数次方" class="headerlink" title="数值的整数次方"></a>数值的整数次方</h2><p>题目：</p>
<blockquote>
<p>实现函数double Power(double base,int exponent)，求base的exponent次方，不得使用库函数，同时不需要考虑大数问题。</p>
</blockquote>
<p>看到了很多人会这样写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">powerWithExponent</span><span class="params">(<span class="keyword">double</span> base,<span class="keyword">int</span> exponent)</span></span>&#123;</div><div class="line">        <span class="keyword">double</span> result = <span class="number">1.0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= exponent; i++)&#123;</div><div class="line">            result = result * base;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>输入的指数(exponent)小于1即是零和负数时怎么办？</p>
<p>当指数为负数的时候，可以先对指数求绝对值，然后算出次方的结果之后再取倒数，当底数(base)是零且指数是负数的时候，如果不做特殊处理，就会出现对0求倒数从而导致程序运行出错。最后，由于0的0次方在数学上是没有意义的，因此无论是输出0还是1都是可以接受的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">power</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="keyword">double</span> result = <span class="number">0.0</span>;</div><div class="line">        <span class="keyword">if</span> (equal(base, <span class="number">0.0</span>) &amp;&amp; exponent &lt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"0的负数次幂无意义"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (equal(exponent, <span class="number">0</span>)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (exponent &lt; <span class="number">0</span>) &#123;</div><div class="line">            result = powerWithExponent(<span class="number">1.0</span> / base, -exponent);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            result = powerWithExponent(base, exponent);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">powerWithExponent</span><span class="params">(<span class="keyword">double</span> base, <span class="keyword">int</span> exponent)</span> </span>&#123;</div><div class="line">        <span class="keyword">double</span> result = <span class="number">1.0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= exponent; i++) &#123;</div><div class="line">            result = result * base;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 判断两个double型数据，计算机有误差</span></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">equal</span><span class="params">(<span class="keyword">double</span> num1, <span class="keyword">double</span> num2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> ((num1 - num2 &gt; -<span class="number">0.0000001</span>) &amp;&amp; (num1 - num2 &lt; <span class="number">0.0000001</span>)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>一个细节，再判断底数base是不是等于0时，不能直接写base==0，这是因为在计算机内表示小数时(包括float和double型小数)都有误差。判断两个数是否相等，只能判断 它们之间的绝对值是不是在一个很小的范围内。如果两个数相差很小，就可以认为它们相等。</p>
<p>还有更快的方法。</p>
<p>如果我们的目标是求出一个数字的32次方，如果我们已经知道了它的16次方，那么只要在16次方的基础上再平方一次就好了，依此类推，我们求32次方只需要做5次乘法。</p>
<p>我们可以利用如下公式：</p>
<p><a href="https://camo.githubusercontent.com/ec88bcb539f7040696223964d7d3fe5e86984ed2/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313530373331303834303339363533" target="_blank" rel="external"><img src="https://camo.githubusercontent.com/ec88bcb539f7040696223964d7d3fe5e86984ed2/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313530373331303834303339363533" alt="img"></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">powerWithExponent2</span><span class="params">(<span class="keyword">double</span> base,<span class="keyword">int</span> exponent)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(exponent == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(exponent == <span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">return</span> base;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">double</span> result = powerWithExponent2(base, exponent &gt;&gt; <span class="number">1</span>);</div><div class="line">        result *= result;</div><div class="line">        <span class="keyword">if</span>((exponent&amp;<span class="number">0x1</span>) == <span class="number">1</span>)&#123;</div><div class="line">            result *= base;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>我们用右移运算代替除2，用位与运算符代替了求余运算符（%)来判断一个数是奇数还是偶数。位运算的效率比乘除法及求余运算的效率要高很多。</p>
<h2 id="扑克牌的顺子"><a href="#扑克牌的顺子" class="headerlink" title="扑克牌的顺子"></a>扑克牌的顺子</h2><p>题目:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">从扑克牌中随机抽 5 张牌,判断是不是顺子,即这 5 张牌是不是连续的。 2-10 为数字本身,A 为 1,J 为 11,Q 为 12,K 为 13,而大小王可以看成任意的 数字。</div></pre></td></tr></table></figure>
<blockquote>
<p>解题思路：我们可以把5张牌看成是由5个数字组成的俄数组。大小王是特殊的数字，我们可以把它们都定义为0，这样就可以和其他的牌区分开来。</p>
<p>首先把数组排序，再统计数组中0的个数，最后统计排序之后的数组中相邻数字之间的空缺总数。如果空缺的总数小于或者等于0的个数，那么这个数组就是连续的，反之则不连续。如果数组中的非0数字重复出现，则该数组是不连续的。换成扑克牌的描述方式就是如果一幅牌里含有对子，则不可能是顺子。</p>
</blockquote>
<p>详细代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isContinuous</span><span class="params">(<span class="keyword">int</span>[] number)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(number == <span class="keyword">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        Arrays.sort(number);</div><div class="line">        <span class="keyword">int</span> numberZero = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> numberGap = <span class="number">0</span>;</div><div class="line">        <span class="comment">//计算数组中0的个数</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; number.length&amp;&amp;number[i] == <span class="number">0</span>; i++)&#123;</div><div class="line">            numberZero++;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//统计数组中的间隔数目</span></div><div class="line">        <span class="keyword">int</span> small = numberZero;</div><div class="line">        <span class="keyword">int</span> big = small + <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(big&lt;number.length)&#123;</div><div class="line">            <span class="comment">//两个数相等，有对子，不可能是顺子</span></div><div class="line">            <span class="keyword">if</span>(number[small] == number[big])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            numberGap+= number[big] - number[small] - <span class="number">1</span>;</div><div class="line">            small = big;</div><div class="line">            big++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> (numberGap&gt;numberZero)?<span class="keyword">false</span>:<span class="keyword">true</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="圆圈中最后剩下的数字"><a href="#圆圈中最后剩下的数字" class="headerlink" title="圆圈中最后剩下的数字"></a>圆圈中最后剩下的数字</h2><p>题目</p>
<blockquote>
<p>0,1,…,n-1这n个数字排成一个圆圈，从数字0开始每次从这个圆圈里删除第m个数字。求这个圆圈里剩下的最后一个数字。</p>
</blockquote>
<p>解法:</p>
<blockquote>
<p>可以创建一个总共有n个结点的环形链表，然后每次在这个链表中删除第m个结点。我们发现使用环形链表里重复遍历很多遍。重复遍历当然对时间效率有负面的影响。这种方法每删除一个数字需要m步运算，总共有n个数字，因此总的时间复杂度为O(mn)。同时这种思路还需要一个辅助的链表来模拟圆圈，其空间复杂度O(n）。接下来我们试着找到每次被删除的数字有哪些规律，希望能够找到更加高效的算法。</p>
<p>首先我们定义一个关于n和m的方程f(n,m)，表示每次在n个数字0，1，。。。n-1中每次删除第m个数字最后剩下的数字。</p>
<p>在这n个数字中，第一个被删除的数字是（m-1)%n.为了简单起见，我们把（m-1)%n记为k，那么删除k之后剩下的n-1个数字为0，1，。。。。k-1，k+1,…..n-1。并且下一次删除从数字k+1,……n-1,0,1,….k-1。该序列最后剩下的数字也应该是关于n和m的函数。由于这个序列的规律和前面最初的序列不一样（最初的序列是从0开始的连续序列），因此该函数不同于前面的函数，即为f’(n-1,m)。最初序列最后剩下的数字f(n,m)一定是删除一个数字之后的序列最后剩下的数字，即f(n,m)=f’(n-1,m).</p>
<p>接下来我么把剩下的这n-1个数字的序列k+1,….n-1，0，1，,,,,,,k-1做一个映射，映射的结果是形成一个从0到n-2的序列</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">k+1        ------&gt;     0</div><div class="line">k+2      ---------&gt;    1</div><div class="line">。。。。</div><div class="line">n-1      -----    &gt; n-k-2</div><div class="line">0         -------&gt;    n-k-1</div><div class="line">1       ---------&gt;    n-k</div><div class="line">.....</div><div class="line">k-1   ---------&gt;    n-k</div></pre></td></tr></table></figure>
<blockquote>
<p>我们把映射定义为p，则p(x) = (x-k-1)%n。它表示如果映射前的数字是x,那么映射后的数字是（x-k-1)%n.该映射的逆映射是p-1(x)= (x+k+1)%n.</p>
<p>由于映射之后的序列和最初的序列具有同样的形式，即都是从0开始的连续序列，因此仍然可以用函数f来表示，记为f(n-1,m).根据我们的映射规则，映射之前的序列中最后剩下的数字f’(n-1,m) = p-1[(n-1,m)] = [f(n-1,m)+k+1]%n ,把k= (m-1)%n代入f(n,m) = f’(n-1,m) =[f(n-1,m)+m]%n.</p>
<p>经过上面的复杂的分析，我们终于找到一个递归的公示。要得到n个数字的序列中最后剩下的数字，只需要得到n-1个数字的序列和最后剩下的数字，并以此类推。当n-1时，也就是序列中开始只有一个数字0，那么很显然最后剩下的数字就是0.我们把这种关系表示为：</p>
</blockquote>
<p><a href="https://camo.githubusercontent.com/9b2add44731441635cad2549412c97899ad90743/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630373035313731383233323739" target="_blank" rel="external"><img src="https://camo.githubusercontent.com/9b2add44731441635cad2549412c97899ad90743/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313630373035313731383233323739" alt="这里写图片描述"></a></p>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lastRemaining</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(n &lt; <span class="number">1</span> || m &lt; <span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> last = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)&#123;</div><div class="line">            last = (last + m) % i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> last;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="two-sum"><a href="#two-sum" class="headerlink" title="two-sum"></a>two-sum</h2><p>Question</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Given an array of integers, find two numbers such that they add up to a specific target number.</div><div class="line">The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</div><div class="line">You may assume that each input would have exactly one solution.</div><div class="line">Input: numbers=&#123;2, 7, 11, 15&#125;, target=9</div><div class="line">Output: index1=1, index2=2</div></pre></td></tr></table></figure>
<p>题目大意：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">给定一个整数数组，找到2个数字，这样他们就可以添加到一个特定的目标号。功能twosum应该返回两个数字，他们总计达目标数，其中index1必须小于index2。请注意，你的答案返回（包括指数和指数）不为零的基础。你可以假设每个输入都有一个解决方案。</div><div class="line">输入数字numbers= &#123; 2，7，11，15 &#125;，目标= 9输出：index1 = 1，index2= 2</div></pre></td></tr></table></figure>
<p>解题思路：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">可以申请额外空间来存储目标数减去从头遍历的数，记为key，如果hashMap中存在该key，就可以返回两个索引了。</div></pre></td></tr></table></figure>
<p>代码；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.HashMap;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</div><div class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(map.get(numbers[i]) != <span class="keyword">null</span>)&#123;</div><div class="line">                <span class="keyword">int</span>[] result = &#123;map.get(numbers[i]) + <span class="number">1</span>, i+<span class="number">1</span>&#125;;</div><div class="line">                <span class="keyword">return</span> result;</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                map.put(target - numbers[i], i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] result = &#123;&#125;;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="设计一个有getMin功能的栈"><a href="#设计一个有getMin功能的栈" class="headerlink" title="设计一个有getMin功能的栈"></a>设计一个有getMin功能的栈</h2><p>实现一个特殊的栈，在实现栈的基本功能的基础上，在实现返回栈中最小元素的操作。</p>
<p>要求：</p>
<ol>
<li>pop、push、getMin操作的时间复杂度都是O(1)</li>
<li>设计的栈类型可以使用现成的栈结构</li>
</ol>
<p>解题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> chapter01_stackandqueue;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Stack;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * </div><div class="line"> * 实现一个特殊的栈，在实现栈的基本功能的基础上，在实现返回栈中最小元素的操作。 要求： 1. pop、push、getMin操作的时间复杂度都是O(1)</div><div class="line"> * 2. 设计的栈类型可以使用现成的栈结构</div><div class="line"> * </div><div class="line"> * <span class="doctag">@author</span> dream</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Problem01_GetMinStack</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack1</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 两个栈，其中stacMin负责将最小值放在栈顶，stackData通过获取stackMin的peek()函数来获取到栈中的最小值</div><div class="line">         */</div><div class="line">        <span class="keyword">private</span> Stack&lt;Integer&gt; stackData;</div><div class="line">        <span class="keyword">private</span> Stack&lt;Integer&gt; stackMin;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 在构造函数里面初始化两个栈</div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyStack1</span><span class="params">()</span> </span>&#123;</div><div class="line">            stackData = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">            stackMin = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 该函数是stackData弹出栈顶数据，如果弹出的数据恰好等于stackMin的数据，那么stackMin也弹出</div><div class="line">         * <span class="doctag">@return</span></div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">pop</span><span class="params">()</span> </span>&#123;</div><div class="line">            Integer num = (Integer) stackData.pop();</div><div class="line">            <span class="keyword">if</span> (num == getmin()) &#123;</div><div class="line">                <span class="keyword">return</span> (Integer) stackMin.pop();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 该函数是先判断stackMin是否为空，如果为空，就push新的数据，如果这个数小于stackMin中的栈顶元素，那么stackMin需要push新的数，不管怎么样</div><div class="line">         * stackData都需要push新的数据</div><div class="line">         * <span class="doctag">@param</span> value</div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Integer value)</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (stackMin.isEmpty()) &#123;</div><div class="line">                stackMin.push(value);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (value &lt; getmin()) &#123;</div><div class="line">                stackMin.push(value);</div><div class="line">            &#125;</div><div class="line">            stackData.push(value);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 该函数是当stackMin为空的话第一次也得push到stackMin的栈中，返回stackMin的栈顶元素</div><div class="line">         * <span class="doctag">@return</span></div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">getmin</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">if</span> (stackMin == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"stackMin is empty"</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> (Integer) stackMin.peek();</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 要注意要将MyStack1声明成静态的，静态内部类不持有外部类的引用</div><div class="line">         */</div><div class="line">        MyStack1 stack1 = <span class="keyword">new</span> MyStack1();</div><div class="line">        stack1.push(<span class="number">3</span>);</div><div class="line">        System.out.println(stack1.getmin());</div><div class="line">        stack1.push(<span class="number">4</span>);</div><div class="line">        System.out.println(stack1.getmin());</div><div class="line">        stack1.push(<span class="number">1</span>);</div><div class="line">        System.out.println(stack1.getmin());</div><div class="line">        System.out.println(stack1.pop());</div><div class="line">        System.out.println(stack1.getmin());</div><div class="line"></div><div class="line">        System.out.println(<span class="string">"============="</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="由两个栈组成的队列"><a href="#由两个栈组成的队列" class="headerlink" title="由两个栈组成的队列"></a>由两个栈组成的队列</h2><p>题目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">编写一个类，用两个栈实现队列，支持队列的基本操作(add、poll、peek)。</div></pre></td></tr></table></figure>
<p>解题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * </div><div class="line"> * 编写一个类，用两个栈实现队列，支持队列的基本操作(add、poll、peek)。</div><div class="line"> * </div><div class="line"> * <span class="doctag">@author</span> dream</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Problem02_TwoStacksImplementQueue</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">myQueue</span></span>&#123;</div><div class="line"></div><div class="line">        Stack&lt;Integer&gt; stack1;</div><div class="line">        Stack&lt;Integer&gt; stack2;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">myQueue</span><span class="params">()</span> </span>&#123;</div><div class="line">            stack1 = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">            stack2 = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        &#125;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * add只负责往stack1里面添加数据</div><div class="line">         * <span class="doctag">@param</span> newNum</div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Integer newNum)</span></span>&#123;</div><div class="line">            stack1.push(newNum);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * 这里要注意两点：</div><div class="line">         * 1.stack1要一次性压入stack2</div><div class="line">         * 2.stack2不为空，stack1绝不能向stack2压入数据</div><div class="line">         * <span class="doctag">@return</span></div><div class="line">         */</div><div class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">poll</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">if</span>(stack1.isEmpty() &amp;&amp; stack2.isEmpty())&#123;</div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Queue is Empty"</span>);</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(stack2.isEmpty())&#123;</div><div class="line">                <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</div><div class="line">                    stack2.push(stack1.pop());</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> stack2.pop();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">peek</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">if</span>(stack1.isEmpty() &amp;&amp; stack2.isEmpty())&#123;</div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Queue is Empty"</span>);</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(stack2.isEmpty())&#123;</div><div class="line">                <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</div><div class="line">                    stack2.push(stack1.pop());</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> stack2.peek();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        myQueue mQueue = <span class="keyword">new</span> myQueue();</div><div class="line">        mQueue.add(<span class="number">1</span>);</div><div class="line">        mQueue.add(<span class="number">2</span>);</div><div class="line">        mQueue.add(<span class="number">3</span>);</div><div class="line">        System.out.println(mQueue.peek());</div><div class="line">        System.out.println(mQueue.poll());</div><div class="line">        System.out.println(mQueue.peek());</div><div class="line">        System.out.println(mQueue.poll());</div><div class="line">        System.out.println(mQueue.peek());</div><div class="line">        System.out.println(mQueue.poll());</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="如何仅用递归函数和栈操作逆序一个栈"><a href="#如何仅用递归函数和栈操作逆序一个栈" class="headerlink" title="如何仅用递归函数和栈操作逆序一个栈"></a>如何仅用递归函数和栈操作逆序一个栈</h2><p>题目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">一个栈一次压入了1、2、3、4、5，那么从栈顶到栈底分别为5、4、3、2、1.将这个栈转置后，从栈顶到栈底为1、2、3、4、5，也就是实现栈中元素的逆序，但是只能用递归函数来实现，不能用其他数据结构。</div></pre></td></tr></table></figure>
<p>解题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 一个栈一次压入了1、2、3、4、5，那么从栈顶到栈底分别为5、4、3、2、1.将这个栈转置后，</div><div class="line"> * 从栈顶到栈底为1、2、3、4、5，</div><div class="line"> * 也就是实现栈中元素的逆序，但是只能用递归函数来实现，不能用其他数据结构。</div><div class="line"> * <span class="doctag">@author</span> dream</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Problem03_ReverseStackUsingRecursive</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(Stack&lt;Integer&gt; stack)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> i = getAndRemoveLastElement(stack);</div><div class="line">        reverse(stack);     </div><div class="line">        stack.push(i);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 这个函数就是删除栈底元素并返回这个元素</div><div class="line">     * <span class="doctag">@param</span> stack</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getAndRemoveLastElement</span><span class="params">(Stack&lt;Integer&gt; stack)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> result = stack.pop();</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            <span class="keyword">return</span> result;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">int</span> last = getAndRemoveLastElement(stack);</div><div class="line">            stack.push(result);</div><div class="line">            <span class="keyword">return</span> last;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        Stack&lt;Integer&gt; test = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        test.push(<span class="number">1</span>);</div><div class="line">        test.push(<span class="number">2</span>);</div><div class="line">        test.push(<span class="number">3</span>);</div><div class="line">        test.push(<span class="number">4</span>);</div><div class="line">        test.push(<span class="number">5</span>);</div><div class="line">        reverse(test);</div><div class="line">        <span class="keyword">while</span> (!test.isEmpty()) &#123;</div><div class="line">            System.out.println(test.pop());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android-面试/" rel="tag">#Android 面试</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/interview-algorithm.html" rel="next" title="Android 面试之排序算法">
                <i class="fa fa-chevron-left"></i> Android 面试之排序算法
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="interview-code.html"
           data-title="Android 面试之编程算法题" data-url="http://eddy.wiki/interview-code.html">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/icon.jpg"
               alt="Eddy" />
          <p class="site-author-name" itemprop="name">Eddy</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#二维数组中查找"><span class="nav-number">1.</span> <span class="nav-text">二维数组中查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。"><span class="nav-number">2.</span> <span class="nav-text">输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。"><span class="nav-number">3.</span> <span class="nav-text">定义栈的数据结构，请在该类型中实现一个能够得到栈最小元素的min函数。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请实现一个函数，将一个字符串中的空格替换成“-20”。例如，当字符串为We-Are-Happy-则经过替换之后的字符串为We-20Are-20Happy。"><span class="nav-number">4.</span> <span class="nav-text">请实现一个函数，将一个字符串中的空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#输入一个字符串-按字典序打印出该字符串中字符的所有排列。例如输入字符串abc-则打印出由字符a-b-c所能排列出来的所有字符串abc-acb-bac-bca-cab和cba。-结果请按字母顺序输出。"><span class="nav-number">5.</span> <span class="nav-text">输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。 结果请按字母顺序输出。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组-1-2-3-2-2-2-5-4-2-。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。"><span class="nav-number">6.</span> <span class="nav-text">数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。如果不存在则输出0。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。"><span class="nav-number">7.</span> <span class="nav-text">斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法"><span class="nav-number">8.</span> <span class="nav-text">一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个非递减序列的一个旋转，输出旋转数组的最小元素。例如数组-3-4-5-1-2-为-1-2-3-4-5-的一个旋转，该数组的最小值为1。"><span class="nav-number">9.</span> <span class="nav-text">把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。输入一个非递减序列的一个旋转，输出旋转数组的最小元素。例如数组{3,4,5,1,2}为{1,2,3,4,5}的一个旋转，该数组的最小值为1。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#我们可以用-2-1-的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2-1的小矩形无重叠地覆盖一个2-n的大矩形，总共有多少种方法？"><span class="nav-number">10.</span> <span class="nav-text">我们可以用 2  1 的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2  1的小矩形无重叠地覆盖一个2 * n的大矩形，总共有多少种方法？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。"><span class="nav-number">11.</span> <span class="nav-text">输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#有一个容器类-ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除-容器中-lt-10的元素。"><span class="nav-number">12.</span> <span class="nav-text">有一个容器类 ArrayList，保存整数类型的元素，现在要求编写一个帮助类，类内提供一个帮助函数，帮助函数的功能是删除 容器中<10的元素。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LeetCode上股票利益最大化问题"><span class="nav-number">13.</span> <span class="nav-text">LeetCode上股票利益最大化问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#剑指offer上第一次只出现一次的字符"><span class="nav-number">14.</span> <span class="nav-text">剑指offer上第一次只出现一次的字符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反转字符串"><span class="nav-number">15.</span> <span class="nav-text">反转字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串中出现最多的字符。"><span class="nav-number">16.</span> <span class="nav-text">字符串中出现最多的字符。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现stack-的pop和push接口-要求："><span class="nav-number">17.</span> <span class="nav-text">实现stack 的pop和push接口 要求：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#求素数"><span class="nav-number">18.</span> <span class="nav-text">求素数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#单例模式——写一个Singleton出来"><span class="nav-number">19.</span> <span class="nav-text">单例模式——写一个Singleton出来</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七种方式实现Singleton模式"><span class="nav-number">20.</span> <span class="nav-text">七种方式实现Singleton模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二叉树遍历"><span class="nav-number">21.</span> <span class="nav-text">二叉树遍历</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重建二叉树"><span class="nav-number">22.</span> <span class="nav-text">重建二叉树</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数值的整数次方"><span class="nav-number">23.</span> <span class="nav-text">数值的整数次方</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#扑克牌的顺子"><span class="nav-number">24.</span> <span class="nav-text">扑克牌的顺子</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#圆圈中最后剩下的数字"><span class="nav-number">25.</span> <span class="nav-text">圆圈中最后剩下的数字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#two-sum"><span class="nav-number">26.</span> <span class="nav-text">two-sum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设计一个有getMin功能的栈"><span class="nav-number">27.</span> <span class="nav-text">设计一个有getMin功能的栈</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#由两个栈组成的队列"><span class="nav-number">28.</span> <span class="nav-text">由两个栈组成的队列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何仅用递归函数和栈操作逆序一个栈"><span class="nav-number">29.</span> <span class="nav-text">如何仅用递归函数和栈操作逆序一个栈</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Eddy</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"eddywiki"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("EF3CoMp2LzWRzehcBHJveykz-gzGzoHsz", "SVD7NmzGndSjO8es0BzwclRp");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
